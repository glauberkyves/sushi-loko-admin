{% extends 'SuperBaseBundle::layout.html.twig' %}
{% block body %}
    <form method="post" action=" " id="form-franqueador" class="form-horizontal tasi-form">
        <section class="panel">
            <header class="panel-heading">
                Dados do Franqueador
              <span class="tools pull-right">
                <a class="fa fa-chevron-down" href="javascript:;"></a>
              </span>
            </header>

            <div class="panel-body">
                <div class="form-group">
                    <label class="col-sm-2 control-label col-lg-2" for="inputSuccess">Nome Responsável</label>

                    <div class="col-lg-10">
                        {{ formText('noPessoa', entity.getNoResponsavel(), {
                            class: 'form-control required'
                        }) }}
                    </div>
                </div>

                <div class="form-group">
                    <label class="col-sm-2 control-label col-lg-2" for="inputSuccess">CPF Responsável</label>

                    <div class="col-lg-10">
                        {{ formText('noPessoa', entity.getNoEmail(), {
                            class: 'form-control required cpf',
                            'data-mask': 'cpf'
                        }) }}
                    </div>
                </div>

                <div class="form-group">
                    <label class="col-sm-2 control-label col-lg-2" for="inputSuccess">E-mail Responsável</label>

                    <div class="col-lg-10">
                        {{ formText('noPessoa', entity.getNoEmail(), {
                            class: 'form-control required email'
                        }) }}
                    </div>
                </div>

                <div class="form-group">
                    <label class="col-sm-2 control-label col-lg-2" for="inputSuccess">Razão Social</label>

                    <div class="col-lg-10">
                        {{ formText('noPessoa', entity.getIdUsuario().getIdPessoa().getNoPessoa(), {
                            class: 'form-control required'
                        }) }}
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-2 control-label col-lg-2" for="inputSuccess">Nome Fantansia</label>

                    <div class="col-lg-10">
                        {{ formText('noFantasia', entity.getIdUsuario().getIdPessoa().getIdPessoaJuridica().getNoFantasia(), {
                            class: 'form-control required'
                        }) }}
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-2 control-label col-lg-2" for="inputSuccess">CNPJ</label>

                    <div class="col-lg-10">
                        {{ formText('nuCnpj', entity.getIdUsuario().getIdPessoa().getIdPessoaJuridica().getNuCnpj(), {
                            class: 'form-control cnpj required',
                            'data-mask': 'cnpj',
                        }) }}
                    </div>
                </div>
            </div>
        </section>

        <section class="panel">
            <header class="panel-heading">
                Endereço
              <span class="tools pull-right">
                <a class="fa fa-chevron-down" href="javascript:;"></a>
              </span>
            </header>

            <div class="panel-body">
                <div class="form-group">
                    <label class="col-sm-2 control-label col-lg-2" for="inputSuccess">CEP</label>

                    <div class="col-lg-4">
                        <div class="input-group m-bot15">
                            {{ formText('nuCep', entity.getIdEndereco().getNuCep(), {
                                class: 'form-control cep required',
                                'data-mask': 'cep',
                            }) }}
                            <span class="input-group-addon buscar-cep"><i class="fa fa-search"></i></span>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-2 control-label col-lg-2" for="inputSuccess">Estado</label>

                    <div class="col-lg-10">
                        {{ formSelect('idEstado', entity.getIdEndereco().getIdMunicipio().getIdEstado().getIdEstado(), {
                            class: 'form-control required'
                        }, cmbEstado) }}
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-2 control-label col-lg-2" for="inputSuccess">Município</label>

                    <div class="col-lg-10">
                        {{ formSelect('idMunicipio', entity.getIdEndereco().getIdMunicipio().getIdMunicipio(), {
                            class: 'form-control required'
                        }, cmbMunicipio) }}
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-2 control-label col-lg-2" for="inputSuccess">Bairro</label>

                    <div class="col-lg-10">
                        {{ formSelect('idBairro', entity.getIdEndereco().getIdBairro().getIdBairro(), {
                            class: 'form-control required'
                        }, cmbBairro) }}
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-2 control-label col-lg-2" for="inputSuccess">Endereço</label>

                    <div class="col-lg-10">
                        {{ formText('nuCnpj', entity.getIdEndereco().getNoLogradouro(), {
                            class: 'form-control required'
                        }) }}
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-2 control-label col-lg-2" for="inputSuccess">Número</label>

                    <div class="col-lg-10">
                        {{ formText('nuCnpj', entity.getIdEndereco().getNuEndereco(), {
                            class: 'form-control required'
                        }) }}
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-2 control-label col-lg-2" for="inputSuccess">Complemento</label>

                    <div class="col-lg-10">
                        {{ formText('nuCnpj', entity.getIdEndereco().getNoComplemento(), {
                            class: 'form-control'
                        }) }}
                    </div>
                </div>
            </div>
        </section>

        <section class="panel">
            <header class="panel-heading">
                Configuração Franquias
              <span class="tools pull-right">
                <a class="fa fa-chevron-down" href="javascript:;"></a>
              </span>
            </header>

            <div class="panel-body">
                <div class="form-group">
                    <label class="col-sm-2 control-label col-lg-2" for="noEmailResponsavel">Utilizar Níves?</label>

                    <div class="col-lg-1">
                        {{ formCheckbox('stNiveis', entity.getStNiveis(), {
                            class: ''
                        }) }}
                    </div>
                    <div class="col-lg-1">
                        <button class="btn btn-primary" id="add-niveis" type="button">Adicionar Níveis</button>
                    </div>
                </div>

                <div class="alert alert-info fade in" id="div-niveis">
                    <div class="form-group">
                        <div class="col-lg-4">
                            <div class="input-group m-bot15">
                                <span class="input-group-addon"><i class="fa fa-font"></i></span>
                                {{ formText('stNiveis', entity.getStNiveis(), {
                                    class: 'form-control',
                                    placeholder: 'Nome do nível',
                                }) }}
                            </div>
                        </div>
                        <div class="col-lg-4">
                            <div class="input-group m-bot15">
                                <span class="input-group-addon"><i class="fa fa-check"></i></span>
                                {{ formText('stNiveis', entity.getStNiveis(), {
                                    class: 'form-control required',
                                    placeholder: 'Pontos bônus por cadastro',
                                }) }}
                            </div>
                        </div>
                        <div class="col-lg-4">
                            <div class="input-group m-bot15">
                                <span class="input-group-addon">R$</span>
                                {{ formText('stNiveis', entity.getStNiveis(), {
                                    class: 'form-control required',
                                    placeholder: 'Bônus em reais por cadastro',
                                }) }}
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="col-lg-4">
                            <div class="input-group m-bot15">
                                <span class="input-group-addon">%</span>
                                {{ formText('stNiveis', entity.getStNiveis(), {
                                    class: 'form-control required',
                                    placeholder: 'Porcentagem pontos extra',
                                    'data-mask': '99'
                                }) }}
                            </div>
                        </div>
                        <div class="col-lg-4">
                            {{ formText('stNiveis', entity.getStNiveis(), {
                                class: 'form-control required',
                                placeholder: 'Quantidade pontos necessária',
                                'data-mask': 'numeric'
                            }) }}
                        </div>
                        <div class="col-lg-4">
                            <button class="btn btn-danger remover-niveis pull-right" type="button">Remover</button>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <div class="col-lg-4">
                        <div class="input-group m-bot15">
                            <span class="input-group-addon">R$</span>
                            {{ formText('stNiveis', entity.getStNiveis(), {
                                class: 'form-control',
                                placeholder: 'Valor mínimo para resgate'
                            }) }}
                        </div>
                    </div>
                    <div class="col-lg-4">
                        <div class="input-group m-bot15">
                            <span class="input-group-addon"><i class="fa fa-check"></i></span>
                            {{ formText('stNiveis', entity.getStNiveis(), {
                                class: 'form-control',
                                placeholder: 'Pontos por transação',
                                'data-mask': 'numeric'
                            }) }}
                        </div>
                    </div>

                </div>

                <div class="form-group">
                    <div class="col-lg-4">
                        <div class="input-group m-bot15">
                            <span class="input-group-addon">%</span>
                            {{ formText('stNiveis', entity.getStNiveis(), {
                                class: 'form-control required ',
                                placeholder: 'Porcentagem bônus por transação',
                                'data-mask': '99'
                            }) }}
                        </div>
                    </div>
                    <div class="col-lg-4">
                        <div class="input-group m-bot15">
                            <span class="input-group-addon"><i class="fa fa-calendar"></i></span>
                            {{ formText('stNiveis', entity.getStNiveis(), {
                                class: 'form-control required dateBr',
                                placeholder: 'Validade dos bônus',
                                'data-mask': '99/99/9999'
                            }) }}
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <div class="col-lg-offset-2 col-lg-10">
                        <button class="btn btn-primary" type="submit">Salvar</button>
                        <button class="btn btn-danger" type="submit">Cancelar</button>
                    </div>
                </div>
            </div>
        </section>
    </form>

    <script>
        $(document).ready(function () {
            $('#stNiveis').click(function () {
                if ($(this).is(':checked')) {
                    $('#div-niveis, #add-niveis').show()
                } else {
                    $('#div-niveis, #add-niveis').hide()
                }
            })

            if ($('#stNiveis').is(':checked')) {
                $('#div-niveis, #add-niveis').show()
            } else {
                $('#div-niveis, #add-niveis').hide()
            }

            $('#add-niveis').click(function () {
                var div = $('#div-niveis').html()
                $(div).find('input').val('');

                $('#div-niveis').append(div)
            })

            $('#div-niveis').on('click', '.remover-niveis', function () {
                if ($('#div-niveis div').size() > 8) {
                    $(this).parents('div.form-group').prev().remove()
                    $(this).parents('div.form-group').remove()
                }
            })
        })
    </script>
{% endblock body %}
